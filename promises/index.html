<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Promises</title>
  </head>
  <body>
    <button>Click!</button>
  <!-- <script>
        let counter = 0;
        document.querySelector('button').addEventListener('click', () =>{
          ++counter;
        });

        setTimeout(() => {
          if (counter > 8){
            alert('you won! YOur clicks: '+counter);
          }
          else{
            alert('sorry u lost');
          }
        }, 2000);
    </script>-->
    <script>
        function startGame(){
          let counter = 0;
          document.querySelector('button').addEventListener('click', () =>{
            ++counter;
          });

          return new Promise((resolve, reject) => {
            setTimeout(()=>{
                if(counter>5){
                  resolve(counter);
                }
                else{
                    reject(counter);
                }
            },2000);
          });
        }
        startGame()
        .then((counter)=>alert('You win, your score is '+counter))
        .catch((counter)=>alert('You lost, your score is '+counter));
    </script>
  </body>
</html>
